# 前端组件使用指南

本项目的组件体系采用"分层与场景驱动"的架构模式，按照功能层次和业务场景进行组件分类。开发时根据界面层级、交互复杂度和业务场景选择对应组件，遵循组件优先级规则和技术约定。

## 核心原则

### 组件分层原则

- **基础组件**：通用 UI 元素，无业务逻辑，跨项目复用，统一在 `components/common/` 中定义。
- **系统组件**：应用级系统功能组件，处理全局布局和系统级交互，在 `components/system/` 中定义。

### 选择优先级规则

1. **优先使用**现有基础组件和系统组件
2. **其次组合**现有组件构建功能
3. **最后考虑**新增组件（需在对应目录中创建并更新此文档）

## 目录定位

- `src/components/common/`：**仅基础通用**组件，当前包含 `CommonButton.vue`、`CommonSearch.vue`、`CommonCard.vue`、`CommonTab.vue`、`CommonPagination.vue`、`VideoCard.vue`。
- `src/components/system/`：系统级组件，当前包含 `AppHeader.vue`。

## 引用约定

- 基础组件统一前缀：`Common*`（当前：`CommonButton`、`CommonSearch`、`CommonCard`、`CommonTab`、`CommonPagination`）
- 专用组件：`VideoCard`（视频展示专用卡片）
- 系统组件统一前缀：`App*`（当前：`AppHeader`）

## 常见场景与对应组件

### 基础交互组件

- **按钮操作**：在 `common/CommonButton.vue` 查找对应 `type`（primary/default/success/warning/danger/info）和 `size`（mini/small/base/large）组合。
- **搜索输入**：在 `common/CommonSearch.vue` 处理搜索框功能，支持 `size`（mini/small/base/large）、防抖搜索、清空按钮、加载状态等特性。
- **通用卡片**：在 `common/CommonCard.vue` 处理通用卡片容器，支持 `size`（mini/small/base/large）、`variant`（default/outlined/elevated/flat）、header/body/footer 插槽。
- **视频卡片**：在 `common/VideoCard.vue` 处理视频展示，专用于视频信息展示，包含缩略图、时长、质量等视频特有属性。
- **分页导航**：在 `common/CommonPagination.vue` 处理分页功能，支持 `size`（mini/small/base/large）、智能页码显示、页码输入跳转、响应式设计等特性。

### 系统级组件

- **应用头部**：在 `system/AppHeader.vue` 处理全局导航、用户信息、主题切换等顶部栏功能。

### 搜索场景指导

- **基础搜索**：使用 `CommonSearch` 组件，配置 `v-model` 绑定关键词，监听 `@search` 事件处理搜索逻辑。
- **实时搜索**：设置较短的 `debounceDelay`（如 200ms），在 `@input` 事件中处理实时搜索。
- **带历史记录的搜索**：结合 `showClearButton` 属性和自定义下拉组件实现搜索历史功能。
- **页面级搜索**：在页面组件中使用，通过事件与状态管理（如 Pinia store）集成。

### 分页场景指导

- **基础分页**：使用 `CommonPagination` 组件，配置 `currentPage` 和 `totalPages` 属性，监听 `@pagechange` 事件处理页码变化。
- **大量页码分页**：启用 `compact` 模式（默认开启），自动显示省略号，通过 `visibleRange` 控制当前页前后显示的页码数量。
- **带输入框的分页**：设置 `showInput` 为 `true`，用户可直接输入页码跳转，适用于页数较多的场景。
- **不同尺寸分页**：通过 `size` 属性（mini/small/base/large）适配不同的界面密度需求。

## 实施要点

### 基础原则

- **组件职责单一**：每个组件仅负责一个明确的功能或展示逻辑。
- **Props 标准化**：基础组件 Props 遵循统一命名规范（size/type/disabled/loading 等）。
- **事件规范化**：统一事件命名（click/change/input/focus/blur/search/clear 等），避免自定义事件名。

### 组件分层规则

- **基础组件**：仅接收 Props，发送标准事件，无业务逻辑，无外部依赖。
- **系统组件**：处理应用级功能，可访问全局状态，负责系统级交互和布局。

### 扩展规范

- **扩展基础组件**：在 `common/` 新增组件，遵循 `Common*` 命名，更新此文档。
- **扩展系统组件**：在 `system/` 新增应用级组件，遵循 `App*` 命名。

## 校验清单

### 组件分层校验

- 基础组件无业务逻辑，无外部 API 依赖，无 Store 访问。
- 系统组件职责明确，处理应用级功能，避免与其他组件过度耦合。

### 命名规范校验

- 基础组件使用 `Common*` 前缀，驼峰命名。
- 系统组件使用 `App*` 前缀，全局唯一。

### Props 规范校验

- 基础组件 Props 遵循标准命名（size/type/disabled/loading）。
- 系统组件 Props 明确系统级语义，避免通用词汇。
- 所有 Props 提供合理默认值和类型验证。

### 事件规范校验

- 使用标准事件名称，避免自定义命名。
- 事件参数结构统一，便于父组件处理。
- 关键系统事件提供完整上下文数据。
